<div class="pop_overlay">
  <div class="pop_area">
    <div class="pop_wrap p_center01">
      <div class="pop_tit">
        <h1>ㅣ세부업무ㅣ 주관기관장 상황전파</h1>
        <button type="button" class="btn_pop_close" closePop></button>
      </div>
      <div class="pop_body">
        <div class="pop_cont">
          <div>
            <h2>Ⅰ- 4. 주관기관장 상황전파</h2>
            <div>
              <dl>
                <dt class="dot dl_inline">담당자</dt>
                <dd class="dl_inline">: 대응반장</dd>
                <dt class="dot">수행내역</dt>
                <dd>담당자는 재난 대응 주관기관장에게 SMS로 상황전파</dd>
              </dl>
              <div class="send_wrap">
                <ul class="flex_wrap f_sb">
                  <li class="sms_templete">
                    <select name="sms_select">
                      <option value="SMS 템플릿 선택">SMS 템플릿 선택</option>
                    </select>
                    <div>
                      <p>발송내용</p>
                      <textarea id="sms_templete" name="sms_templete" style="resize:none;border:none;"
                        onkeyup="fn_checkByte(this)">00년 00월 00일 00시00분에 (4/5단계) (태양흑점폭발 상황 발생에 따라 우주전파재난)</textarea>
                      <p class="alignR"><span id="nowByte">80</span>/90 bytes</p>
                    </div>
                    <script>
                      function fn_checkByte(obj) {
                        const maxByte = 90; //최대 90바이트
                        const text_val = obj.value; //입력한 문자
                        const text_len = text_val.length; //입력한 문자수

                        let totalByte = 0;
                        for (let i = 0; i < text_len; i++) {
                          const each_char = text_val.charAt(i);
                          const uni_char = escape(each_char) //유니코드 형식으로 변환
                          if (uni_char.length > 4) {
                            // 한글 : 2Byte
                            totalByte += 2;
                          } else {
                            // 영문,숫자,특수문자 : 1Byte
                            totalByte += 1;
                          }
                        }

                        if (totalByte > maxByte) {
                          alert('최대 90Byte까지만 입력가능합니다.');
                          document.getElementById("nowByte").innerText = totalByte;
                          document.getElementById("nowByte").style.color = "red";
                        } else {
                          document.getElementById("nowByte").innerText = totalByte;
                          document.getElementById("nowByte").style.color = "#3c7ed3";
                        }
                      }
                    </script>
                  </li>
                  <li class="send_group">
                    <select name="sms_select">
                      <option value="발송 그룹 선택">발송 그룹 선택</option>
                    </select>
                    <div class="container">
                      <table>
                        <caption>발송 그룹 선택</caption>
                        <thead>
                          <tr>
                            <th>선택</th>
                            <th>발송대상목록</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td><input type="checkbox" name="selectInput" id="option1"></td>
                            <td><label for="option1">정보보호네트워크정책관</label></td>
                          </tr>
                          <tr>
                            <td><input type="checkbox" name="selectInput" id="option2"></td>
                            <td><label for="option2">국립전파연구원장</label></td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="btn_wrap">
                        <button type="button" class="btn_s selectBtn btn_grayline">전체선택</button>
                        <button type="button" class="btn_s unSelectBtn btn_grayline">전체해제</button>
                      </div>
                    </div>
                  </li>
                </ul>
                <div>
                  <span>연락처 추가</span>
                  <input type="text">
                  <button type="button" class="btn_m btn_blue">전송</button>
                </div>
              </div>
            </div>
          </div>
          <div class="btn_wrap alignC">
            <button type="button" class="btn_l btn_blue">검색</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $('.selectBtn').on('click', function () {
    $(':checkbox').prop('checked', true);
  })
  $('.unSelectBtn').on('click', function () {
    $(':checkbox').prop('checked', false);
  })
</script>